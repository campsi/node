/*@import reset*/
html, body, div, span, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, abbr, address, cite, code, del, dfn, em, img, ins, kbd, q, samp, small, strong, sub, sup, var, b, i, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, figcaption, figure, footer, header, hgroup, menu, nav, section, summary, time, mark, audio, video
  margin: 0
  padding: 0
  border: 0
  outline: 0
  font-size: 100%
  vertical-align: baseline
  background: transparent

body
  line-height: 1

.clear
  clear both

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
menu,
nav,
section
  display: block

nav ul
  list-style: none

blockquote,
q
  quotes: none

blockquote:before,
blockquote:after,
q:before,
q:after
  content: ''
  content: none

a
  margin: 0
  padding: 0
  font-size: 100%
  vertical-align: baseline
  background: transparent

/* change colours to suit your needs */
ins
  background-color: #ff9
  color: #000
  text-decoration: none

/* change colours to suit your needs */
mark
  background-color: #ff9
  color: #000
  font-style: italic
  font-weight: bold

del
  text-decoration: line-through

abbr[title],
dfn[title]
  border-bottom: 1px dotted
  cursor: help

table
  border-collapse: collapse
  border-spacing: 0

/* change border colour to suit your needs */
hr
  display: block
  height: 1px
  border: 0
  border-top: 1px solid #cccccc
  margin: 1em 0
  padding: 0

input,
select
  vertical-align: middle

/*@import colors*/

$dark = #31393c
$theme = #1e90ff
$test = #598392
$brown = #786452
$contrast = #fdca40
$light = #edeff0
$nearWhite = #fafcfc

/*@import fonts*/

$fonts = "San Francisco", "Avenir Next", "Helvetica Neue", Helvetica, Arial, sans-serif

html, body
  font-family $fonts
  font-size 12pt
  line-height 1.45em

button, input, select
  font-family $fonts
  line-height 1rem
  font-size 1rem

p
  margin-bottom 1.3em

h1, h2, h3, h4
  margin .6em 0 0.6em
  font-weight inherit
  line-height 1.2

h1 {
  margin-top 0
  margin-bottom 1rem
  font-size 2.074em
}

h2
  font-size 1.728em

h3
  font-size 1.44em

h4
  font-size 1.2em

small, .font_small
  font-size 0.833em

.legal
  font-size 0.579em

/*@import layout*/

html, body, #app
  height 100%
  width calc(100% + 1px)
  margin 0
  padding 0
  overflow hidden

*
  box-sizing border-box

//http://stackoverflow.com/questions/12605816/sticky-flexible-footers-and-headers-css-working-fine-in-webkit-but-not-in-gecko/12622740#12622740
.vmax
  display table
  height 100%
  width 100%
  overflow hidden

  > .row
    display table-row

    > .cell
      display table-cell

    &.hmax
      height 100%

      > .cell
        height 100%
        width 100%
        display inline-block
        overflow-y auto
        position relative
      /*box-shadow: inset 0 20px 20px -20px rgba($dark, 0.3)*/

      > .scroll > div
        position absolute
        top 0
        bottom 0
        width 100%

        .content
          min-height: 100%

panel-duration = .5s
panel-easing = ease-in-out

.panels
  width 100%
  height 100%
  margin 0
  position relative
  overflow: hidden

  .panel
    height 100%
    width 100%
    position absolute
    top 0
    left 0
    transition left panel-duration panel-easing, width panel-duration panel-easing
    transform translate3d(0, 0, 0)

    &.next
      left 100%
    &.w50
      width calc(50% + 1px)
    &.l50
      left 50%

    .content
      border-left: 1px solid darken($light, 3);
    //padding 2rem
    header
      box-sizing border-box
      display flex
      border-bottom: 1px solid darken($theme, 15);
      border-right: 1px solid lighten($theme, 5);
      border-left: 1px solid darken($theme, 15);
      border-top: 1px solid lighten($theme, 20);

      h2
        font-size 1em
        padding 0.5em
        font-weight normal
        text-align center
        margin 0 auto
        display inline-block
        text-shadow 1px 1px 0 darken($theme, 30)

      button
        margin auto .5em
        outline none

header.main
  padding 1rem
  display flex

  h1
    flex 1
    font-size: 2em

/*@import ui*/

light-button(color)
  //display inline-block
  background transparent
  border 1px solid lighten(color, 30)
  color lighten(color, 20)
  outline none
  /*font-size 1em*/
  padding .4em .5em .2em .5em
  line-height 1.2em
  border-radius .5em
  cursor pointer
  font-size: 0.8em

  &:hover
    color color
    border-color color
  &:active
    background rgba(color, .1)

/*@import style */

header.main
  background $dark
  color $light
  border-bottom 1px solid #000

  h1
    font-weight lighter
    margin 0

footer.main
  padding .5em
  background $dark
  border-top 1px solid lighten($dark, 30%)
  color $light

.panel

  background: $nearWhite
  //box-shadow 0 0 3px rgba($dark, .3)

  header
    $headerColor = $theme;
    background $headerColor
    color $light
    border-bottom 1px solid darken($headerColor, 30%)
    border-top 1px solid lighten($headerColor, 50%)

    button
      light-button($light)

    h2
      color: $nearWhite
  //text-shadow: 0 1px 1px darken($theme, 10);

  .content

    h1
      color: rgba($theme, .4)
      /*text-shadow: inset 1px 1px 1px lighten($dark, 10)*/
      /*color: rgba($dark, 0.8);*/
      /*text-shadow: 1px 4px 6px $light, 0 0 0 $dark, 1px 4px 6px $light;*/
      font-weight: lighter

button
  light-button($theme)

#projects

  .cell
    background-color darken($light, 1)

  .content
    padding: 2em;

  .project
    float left
    margin 1em
    cursor: pointer

    .name
      text-align: center
      width: 100%
      display: inline-block
      margin-top: .5em

    &.placeholder

      opacity .5
      transition opacity .1s

      &:hover
        opacity: 1

      .name
        font-style: italic

      .logo
        border: 3px dashed darken($light, 20)
        box-shadow: none
        color $theme
        /*font-size: em*/
        text-align: center

    &:hover
      .logo
        border-bottom-color darken($light, 20)

    .logo

      $logoSize = 10em
      $logoPadding = 1em

      background: #FFF
      /*box-shadow -1px 1px 2px rgba($dark, .1)*/
      border: 2px solid darken($nearWhite, 5)
      border-bottom: 3px solid darken($light, 10)
      width $logoSize
      height $logoSize
      border-radius 10px //($logoSize / 6)
      padding: $logoPadding
      overflow: hidden
      display: table-cell
      vertical-align: middle

      img
        margin: 0 auto
        max-width: $logoSize - $logoPadding* 2
        max-height: $logoSize - $logoPadding* 2

#project
  .content
    padding 2rem;

.component.invisible .control
  position relative
  display: flex

  input
    border none
    outline none
    background transparent
    margin-left .5em
    box-shadow none
    &:focus
      box-shadow none;

  &::before
    content '✎'
    /*border 1px solid red*/
    /*position absolute*/
    color darken($nearWhite, 20)
    /*left 0*/
    /*top 0*/
    width 1em
    align-self: center

.project-name .control
  font-size: 2.5em

.campsi_user-list
  min-height: 6em //  todo dégager ça
  /*border: 1px solid red*/
  .campsi_user-list_user
    float left
    list-style-type none
    margin-right .5rem
    position relative

    .name
      font-size: .635em
      position absolute
      padding: .2em .5em 0
      background: rgba($dark, .5)
      color $nearWhite
      bottom -3em
      left 0
      text-align center
      white-space nowrap
      display none
      min-width 3rem
      border-radius .5em
      text-shadow: 1px -1px 2px #666

    &:hover .name
      display block

.avatar
  border-radius 3em
  height 3.5rem
  width: 3.5rem
  overflow hidden
  float left
  position: relative
  border: solid .2rem darken($nearWhite, 5)
  img
    height 3.5rem
    width 3.5rem

.control .label
  font-weight normal
  font-size 1em
  color darken($light, 60)
  margin: 1em 0 .1em

#project

  .component.title
    font-size 2em
    input
      font-size: 2em;
      font-weight lighter

  .collections

    .campsi_collection-list_collection
      background #FFF
      border .1em solid darken($light, 2)
      border-bottom-color darken($light, 10)
      border-radius .5em
      margin-bottom: 1em
      padding 1em

#welcome

  .desc
    background rgba($theme, .8)

  h1
    font-size: 7em
    font-style: italic
    margin-top: .3em
    color white;

  .scroll
    background: lighten($dark, 40)
    color: white;

.form_array_item[data-item-type='campsi/collection-designer/field']
  background white
  border 1px solid lighten($dark, 60)
  //border-bottom 3px solid lighten($dark, 60)
  //border-radius .5rem
  margin-bottom 1rem
  position relative

  &::after, &:after
    position absolute
    box-sizing border-box
    content ''
    border-top: .5rem solid lighten($dark, 60);
    border-left: .75rem solid transparent;
    border-right: .75rem solid transparent;
    height: 0;
    left: -1px
    width: calc(100% + 2px);


  button.remove
    visibility hidden
    opacity 0
    $size = 1.5rem
    position: absolute
    top: -($size/ 2)
    right -($size/ 2)
    height $size
    width $size
    border-radius $size
    content 'X'
    overflow hidden
    background: black
    color white
    //text-indent: $size
    border: none
    transition opacity .2s linear, visibility .2s linear

  &:hover button.remove
    visibility visible
    opacity 1

  .placeholder
    position absolute
    height 4rem
    width 100%
    opacity 0.5
    border 5px dashed gray
    text-align center
    line-height 3.5rem

.campsi_component-list
  position: relative
  margin-top 1rem
  > .control
    min-height 5em
    transition height .3s panel-easing

.campsi_collection-designer_field
  display flex

  > aside
    width 2rem;
    display flex
    flex-direction column
    border-right lighten($dark, 55) 1px solid

    .drag-handle
      background lighten($dark, 50)
      flex 2
      min-height 3rem

    .type
      height 2rem
      width 2rem
      background: $theme
      overflow: hidden

  > .form
    flex 1
    padding: .5em

.form-field-label,
.form-field-name,
.form-field-required
  display flex
  margin-bottom .2em

  .label
    margin 0
    margin-right 1rem
    min-width 5rem
    align-self center
    text-align: right

  .control
    flex 1
    align-self center

    input
      width 100%

.form-field-name
  font-size: 0.75em

.form-field-name input
  font-size 1em

#collection-designer

  .cell {
    background: darken($light, 2)
  }

  .component.title
    font-size 2em

    input
      font-size: 2em;
      font-weight lighter

  .content
    padding 2rem

#components

  header {
    $headerColor = darken($theme, 10);
    background: $headerColor;
    border-top-color: lighten($headerColor, 10)
    border-bottom-color: darken($headerColor, 20)
  }

  .search
    display: none
    input

      font-size: 1.2rem
      background transparent
      border 1px solid $theme
      border-radius 3rem
      padding .5rem
      &:focus
        outline none

  .content h2, .content h3
    text-shadow 0 -1px 1px #333

  .cell
    background: linear-gradient(darken($theme, 20), darken($theme, 30))
    background: -webkit-radial-gradient(45px 45px, ellipse farthest-corner, #7cedfd, #1681fb)

  .content
    padding 2rem
    color white
    border-left-color: darken($theme, 10)

  .components

    margin-left: -1rem;
    .component
      float left
      margin: 1rem
      .name
        text-shadow: 0 1px 1px #333

.component.icon.draggable

  $componentSize = 4rem;
  cursor: all-scroll

  .icon
    background linear-gradient(45deg, black, darken($theme, 40))
    color $nearWhite
    height $componentSize
    width $componentSize
    border-radius .5rem
    border 1px solid lighten($theme, 20)
    border-bottom 3px solid $theme
    //box-shadow rgba($theme, .3) 1px 1px 1rem 0
    margin-bottom .5rem
    font-size: 2rem;
    line-height: $componentSize
    text-align: center
    font-weight lighter

  &:hover
    .icon
      background linear-gradient(45deg, black, darken($theme, 20))
      border-bottom-color darken($theme, 10)

  .name
    width $componentSize
    text-align center
    display block
    font-size 0.8rem

#welcome
  .cell
    background-image url(https://images.unsplash.com/photo-1429051883746-afd9d56fbdaf?q=80&fm=jpg&s=b5bc5b301b282fd18c85d9bb6ef941e6)
    background-attachment fixed
    background-size 100%

  .padding
    padding 2em


.component.form_text input
  /*width: calc(100% - 0.5em);*/
  padding: 0.4em 0.4em 0.2em 0.4em;
  width: 100%;
  font-family: "Avenir Next";
  border: $light solid 1px;
  box-shadow: inset #ededed 0 1px 1px;

.component.form_text input:focus
  outline: none;
  border-color: $theme
  box-shadow: inset lighten($theme, 20) 0 0 2px;


.component.draggable.gu-mirror
  opacity 1